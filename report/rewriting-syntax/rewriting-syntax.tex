\documentclass[oneside]{memoir}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[british]{babel}

\usepackage[draft]{fixme}

% As we dont really have any use for \fref and \Fref we just undefine what
% memoir defined them as, so fancyref can define what it wants.
\let\fref\undefined
\let\Fref\undefined
\usepackage{fancyref} % Better reference. 

\usepackage{mdwtab}
\usepackage[rounded]{syntax} % Part of the mdwtools package
\usepackage{mathenv}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{semantic} % for the \mathlig function

\usepackage[final]{listings} % Make sure we show the listing even though we are
                             % making a final report.

\lstset{ %
% language=Octave,                % choose the language of the code
basicstyle=\ttfamily,        % the size of the fonts that are used for the code
basewidth=0.5em,
% numbers=left,                   % where to put the line-numbers
% numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
% stepnumber=2,                   % the step between two line-numbers. If it's 1 each line will be numbered
% numbersep=5pt,                  % how far the line-numbers are from the code
% backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
% showspaces=false,               % show spaces adding particular underscores
% showstringspaces=false,         % underline spaces within strings
% showtabs=false,                 % show tabs within strings adding particular underscores
% frame=single	                % adds a frame around the code
% tabsize=2,	                % sets default tabsize to 2 spaces
% captionpos=b,                   % sets the caption-position to bottom
% breaklines=true,                % sets automatic line breaking
% breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={(@}{@)}          % if you want to add a comment within your code
}

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}

\makeatletter
\newenvironment{nonfloatingfigure}{
  \vskip\intextsep
  \def\@captype{figure}
  }{
  \vskip\intextsep
}

\newenvironment{nonfloatingtable}{
  \vskip\intextsep
  \def\@captype{table}
  }{
  \vskip\intextsep
}
\makeatother


\lstnewenvironment{sml}
{\lstset{xleftmargin=3em}} % starting code, ex a lstset that is more specific;
{} % ending code




\newcommand{\floor}[1]{\ensuremath{\lfloor #1 \rfloor}}
\newcommand{\codeinline}[1]{\texttt{#1}}

\chapterstyle{hangnum}

\theoremstyle{definition}
\newtheorem{example}{Example}
\newtheorem{definition}{Definition}

\newcommand*{\fancyrefexlabelprefix}{ex}
\fancyrefaddcaptions{english}{
  \newcommand*{\Frefexname}{Example}
  \newcommand*{\frefexname}{\MakeLowercase{\Frefexname}}
}
\frefformat{vario}{\fancyrefexlabelprefix}{%
  \frefexname\fancyrefdefaultspacing#1#3%
}
\Frefformat{vario}{\fancyrefexlabelprefix}{%
  \Frefexname\fancyrefdefaultspacing#1#3%
}
\frefformat{plain}{\fancyrefexlabelprefix}{%
  \frefexname\fancyrefdefaultspacing#1%
}
\Frefformat{plain}{\fancyrefexlabelprefix}{%
  \Frefexname\fancyrefdefaultspacing#1%
}

\newcommand*{\fancyrefdeflabelprefix}{def}
\fancyrefaddcaptions{english}{
  \newcommand*{\Frefdefname}{Definition}
  \newcommand*{\frefdefname}{\MakeLowercase{\Frefdefname}}
}
\frefformat{vario}{\fancyrefdeflabelprefix}{%
  \frefdefname\fancyrefdefaultspacing#1#3%
}
\Frefformat{vario}{\fancyrefdeflabelprefix}{%
  \Frefdefname\fancyrefdefaultspacing#1#3%
}

\mathlig{++}{\mathrel{\mbox{+\!\!\!+}}}
\begin{document}

\chapter{Rewriting syntax}

\paragraph{Fixmes.} \ \\
\fixme[inline, margin=false]{Udvid normalform til at tage højde for datatyper. Specielt har vi brug
  for en funktion alá $dom$, som afgør et mønsters domæne.} \ \\

\fixme[inline, margin=false]{Indledning} \ \\

Patterns in SML can be thought of as trees with constructors as nodes and
variables as liefs where nullary constructors is not seen as liefs.

In the following chapter we will be generalising patterns to be parameterised
over their liefs, meaning that SML patterns are patterns over (SML) variables.

We follow the convention that constants can be thought of as being nullary
constructors\footnote{as in the ``Mini-ML'' document}. It is also assumed, for
all code we will match, that

\begin{enumerate}
\item All \texttt{as}-patterns has been removed (this can be done by
  substitution).

\item All infix functions has been turned into their nonfix counterparts.

\item ... Most likely something else \fixme{More to the list of stuff that is
    assumed of the code we will work on}
\end{enumerate}


\input{definitions/definitions}

\input{semantics/semantics}

\input{intuition/intuition}

\input{examples/examples}

\input{rules/rules}

\appendix

\input{appendix/appendix}


\end{document}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
