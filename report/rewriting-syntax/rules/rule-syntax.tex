\subsection{Rewriting rule syntax}

$\{ \ldots \}$ means zero or more occurances.
$+$ means 1 or more occurances.

When specifying rewriting rules we 

\fixme{Add pattern variables to the grammer as using..}
\fixme{This should go in the appendix}

\setlength{\grammarindent}{7.3em}
\begin{grammar} 
 
%  <rules> ::= <rule>+

  <rule> ::= "rule" <rule-header> <scheme> "becomes" <clause>+
  "end"

  <rule-header> ::= <rule-type> <rule-name>

  <rule-type> ::= "clauses" | "expression" 

  <rule-name> ::= <letter>+ \hfill "\# No spaces allowed in rule-names"

  <scheme> ::= <clause>+ [<cstrn>]

%  <clauses> ::= <clause>+

  <clause> ::= "|" <spat> "=>" <sexp>

  <cstrn> ::= "where" <cstrn-body> 

  <cstrn-body> ::= <cstrn-rel> | <cstrn-rel> "," <cstrn-body>

  <cstrn-rel> ::= .... to be defined.

  <spat> ::= <sml-identifier> | <meta-pattern>
  
  <sexp>   ::= <sml-identifier> | <meta-pattern> | <transformer>

  <transformer> ::= "[" <upper-letter> "]" "(" <meta-pattern> ")" \hfill "\# Fix the input"

  <meta-pattern> ::= "ยง" <upper-letter> \{ <opt-meta-pattern-input> \}

  <opt-meta-pattern-input> ::= "[" <meta-pattern> "]" \hfill "\# Fix the input" 

\end{grammar}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../rewriting-syntax"
%%% End: 
