Normalising and rewriting: udvaelg.sml
udvaelg(34768, 34768, Val)
1
Exp_App
  1 Exp_App
      1 Exp_Var udvaelg(34768, 34768, Val)
      2 Exp_Var xs(34770, 34770, Val)
  2 Exp_Var ys(34772, 34772, Val)
Exp_App
  1 Exp_App
      1 Exp_Var udvaelg(34768, 34768, Val)
      2 Exp_Var xs(34770, 34770, Val)
  2 Exp_Var ys(34772, 34772, Val)
foo
Before:
fun udvaelg xs [] = []
  | udvaelg xs (y :: ys) = List.nth (xs, y) :: udvaelg xs ys

After:
fun udvaelg xs ys = map (fn y => List.nth (xs, y)) ys
